<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Actualizar instructor</title>
	<style>
/* 	CSS para centrar el formulario de login */
  .center {  
  	margin: auto;  
  	width: 90%;  
  	padding: 0% 0;  
  }  
</style>
</h:head>
<h:body>
	<ui:include src="header.xhtml" />
	<h:form id="form1" styleClass="center">
		<p:panel header="Datos del instructor">

			<h:panelGrid id="data" columns="3" cellpadding="5">

				<p:outputLabel value="Nombre del instructor(a)" />
				<p:selectOneMenu id="teacher" tabindex="8" filter="true"
					value="#{MbOptionsInstructor.idInstructor}"
					filterMatchMode="contains" height="100" required="true"
					requiredMessage="campo obligatorio">
					<f:selectItem itemLabel="--Seleccione Instructor--"
						noSelectionOption="true" />
					<f:selectItems
						value="#{MbOptionsInstructorController.allInstructors()}" var="t"
						itemValue="#{t.id}" itemLabel="#{t.name}" />
					<p:ajax
						listener="#{MbOptionsInstructorController.selectInstructor()}"
						update="form1" />
				</p:selectOneMenu>
				<p:message for="teacher" display="text"
					style="width:150px; font-size:14px;" />

				<p:outputLabel value="Tel. o Cel.:" />
				<p:inputText id="phone" value="#{MbOptionsInstructor.phone}"
					required="true" requiredMessage="campo obligatorio"
					validatorMessage="ingrese solo numeros" tabindex="4">
					<f:validateRegex pattern="[0-9]+" />
					<p:ajax update="form1" />
				</p:inputText>
				<p:message for="phone" display="text"
					style="width:150px; font-size:14px;" />

				<p:outputLabel value="Correo:" />
				<p:inputText id="email" value="#{MbOptionsInstructor.email}"
					required="true" requiredMessage="campo obligatorio"
					validatorMessage="correo invalido" tabindex="5">
					<f:validateRegex
						pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
					<p:ajax update="form1" />
				</p:inputText>
				<p:message for="email" display="text"
					style="width:150px; font-size:14px;" />

				<p:outputLabel value="Tipo de estudio" />
				<p:inputText id="typeStudy" value="#{MbOptionsInstructor.typeStudy}"
					required="true" requiredMessage="campo obligatorio"
					validatorMessage="ingrese sólo letras" tabindex="6">
					<f:validateRegex pattern="[a-zA-Z ]+" />
					<p:ajax update="form1" />
				</p:inputText>
				<p:message for="typeStudy" display="text"
					style="width:150px; font-size:14px;" />

				<p:outputLabel value="Certificación" />
				<p:inputText id="certificate"
					value="#{MbOptionsInstructor.certificate}" required="true"
					requiredMessage="campo obligatorio"
					validatorMessage="caracter invalido" tabindex="7">
					<f:validateRegex pattern="[A-Za-z0-9 ]+" />
					<p:ajax update="form1" />
				</p:inputText>
				<p:message for="certificate" display="text"
					style="width:150px; font-size:14px;" />

				<p:outputLabel value="Título" />
				<p:inputText id="title" value="#{MbOptionsInstructor.degree}"
					validatorMessage="ingrese unicamente 'si' o 'no'"
					converterMessage="caracter invalido" required="true"
					requiredMessage="campo requerido" tabindex="8">
					<f:validateRegex pattern="[a-zA-Z ]+" />
					<f:validateLength maximum="2" />
					<p:ajax update="form1" />
				</p:inputText>
				<p:message for="title" display="text"
					style="width:150px; font-size:14px;" />


				<p:outputLabel value="Cédula profesional" />
				<p:inputText id="cedula" value="#{MbOptionsInstructor.cedula}"
					validatorMessage="ingrese unicamente 'si' o 'no'" required="true"
					requiredMessage="campo requerido" tabindex="9">
					<f:validateRegex pattern="[a-zA-Z ]+" />
					<f:validateLength maximum="2" />
					<p:ajax update="form1" />
				</p:inputText>
				<p:message for="cedula" display="text"
					style="width:150px; font-size:14px;" />
			</h:panelGrid>
		</p:panel>

		<p:toolbar>
			<f:facet name="left">
				<p:commandButton value="Actualizar" update="form1" tabindex="10"
					action="#{MbOptionsInstructorController.update()}" />
			</f:facet>
			<f:facet name="right">
				<p:commandButton value="Atras" action="menuInstructorExistente" immediate="true"
					tabindex="11" />
			</f:facet>
		</p:toolbar>
		
		<p:dialog id="updateFail" widgetVar="fail" closable="true"
			modal="true" header="Mensaje" height="50px" width="300px"
			draggable="false" resizable="false">
			<p:fieldset>
				<p:outputLabel value="Actualizacion fallida" />
			</p:fieldset>
			
			<f:facet name="footer">
				<p:commandButton value="Aceptar" onclick="PF('fail').hidden()"/>
			</f:facet>			
		</p:dialog>
		
		<p:dialog id="updateSuccess" widgetVar="success" closable="true"
			modal="true" header="Mensaje" height="50px" width="300px"
			draggable="false" resizable="false">
			<p:fieldset>
				<p:outputLabel value="Actualizacion exitosa" />
			</p:fieldset>
			
			<f:facet name="footer">
				<p:commandButton value="Aceptar" action="menuInstructorExistente"/>
			</f:facet>			
		</p:dialog>
		
	</h:form>
</h:body>
</html>
